(function(){"use strict";var t={729:function(t,e,i){i(6992),i(8674),i(9601),i(7727);for(var l=i(144),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("table-component",{attrs:{height:t.height,columns:t.columns,tableData:t.tableData}})],1)},a=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-wrapper",style:{height:this.height+"px",overflow:"hidden"},attrs:{id:"table"}},[i("div",{staticClass:"table-content-wrapper",style:{height:this.height+"px"}},[i("div",{staticClass:"table-header-wrapper",style:{width:t.innerTableWidth+"px"}},[i("table-head",{attrs:{prefixClass:"middle",columns:t.columns}})],1),i("div",{ref:"table-body-wrapper",staticClass:"table-body-wrapper",style:{height:this.height-this.headHeight+"px","overflow-y":"auto",width:t.innerTableWidth+"px"},attrs:{tabindex:"-1"},on:{scroll:t.scrollEvent}},[i("div",{staticClass:"table-overlay",style:{height:t.overHeight+"px"}}),i("div",{staticClass:"table-content",style:{transform:"translate3d(0,"+t.offset+"px,0)"}},[i("table-body",{attrs:{prefixClass:"middle",columns:t.columns,data:t.visibleData}})],1)])]),i("div",{staticClass:"table-fixed fixed-left"},[i("table-head",{attrs:{prefixClass:"left",columns:t.leftColumns}}),i("div",{ref:"table-body-wrapper__left",staticClass:"table-body-wrapper__left",style:{height:this.height-this.headHeight+"px","overflow-y":"auto"}},[i("div",{staticClass:"table-overlay",style:{height:t.overHeight+"px"}}),i("div",{staticClass:"table-content",style:{transform:"translate3d(0,"+t.offset+"px,0)"}},[i("table-body",{attrs:{prefixClass:"left",columns:t.leftColumns,data:t.visibleData}})],1)])],1),i("div",{staticClass:"table-fixed fixed-right"},[i("table-head",{attrs:{prefixClass:"right",columns:t.rightColumns}}),i("div",{ref:"table-body-wrapper__right",staticClass:"table-body-wrapper__right",style:{height:this.height-this.headHeight+"px","overflow-y":"auto"}},[i("div",{staticClass:"table-overlay",style:{height:t.overHeight+"px"}}),i("div",{staticClass:"table-content",style:{transform:"translate3d(0,"+t.offset+"px,0)"}},[i("table-body",{attrs:{prefixClass:"right",columns:t.rightColumns,data:t.visibleData}})],1)])],1)])},s=[],o=(i(7327),i(9554),i(5827),i(7042),i(1532),i(9653),i(1539),i(8783),i(9253),i(4747),i(3948),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{class:t.prefixClass+"__table-head",attrs:{border:"0"}},[i("colgroup",t._l(t.columns,(function(e){return i("col",{key:e.key,staticClass:"table-tbody__col",style:{width:(e.width||t.table.cellMinWidth)+"px"}})})),0),i("tr",t._l(t.columns,(function(e){return i("th",{key:e.key,class:t.prefixClass+"__table-th",attrs:{scope:"col"}},[e.type?t._e():i("span",[t._v(" "+t._s(e.title)+" ")]),"selection"===e.type?i("span",[i("input",{attrs:{type:"checkbox"}})]):t._e()])})),0)])}),u=[],c={props:{columns:{type:Array,default:function(){return[]}},prefixClass:{type:String,default:""},isFixedHead:{type:Boolean,default:!0}},inject:["table"]},h=c,d=i(5961),f=(0,d.Z)(h,o,u,!1,null,null,null),p=f.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{class:t.prefixClass+"__table-body",attrs:{border:"0"}},[i("colgroup",t._l(t.columns,(function(e){return i("col",{key:e.key,staticClass:"table-tbody__col",style:{width:(e.width||t.table.cellMinWidth)+"px"}})})),0),i("tbody",t._l(t.data,(function(e){return i("tr",{key:e.id,class:t.prefixClass+"__table-row",attrs:{"data-row-key":e.id}},t._l(t.columns,(function(l){return i("td",{key:l.key},[l.type?t._e():i("span",[t._v(" "+t._s(e[l.key])+" ")]),"selection"===l.type?i("span",[i("input",{attrs:{type:"checkbox"}})]):t._e()])})),0)})),0)])},y=[],m={props:{columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},prefixClass:{type:String,default:""}},inject:["table"]},g=m,v=(0,d.Z)(g,b,y,!1,null,null,null),x=v.exports,w=function(t,e){var i=null,l=0,n=function(){var n=new Date,a=this,r=arguments;n-l>e?(i&&(clearTimeout(i),i=null),l=n,t.apply(a,r)):i||(i=setTimeout((function(){l=n,t.apply(a,r)}),e))};return n},_={props:{columns:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},height:{type:[Number,String],default:"auto"},isVirtualScroll:{type:Boolean,default:!1}},components:{TableHead:p,TableBody:x},data:function(){return{debounceWindowResize:null,isAnyFixed:!1,resizeEvent:null,innerTableWidth:3e3,cellMinWidth:100,scrollEvent:null,visibleData:[],offset:0,cellHeight:57,headHeight:34,visibleCount:20,bufferNum:10}},provide:function(){return{table:this}},computed:{leftColumns:function(){return this.columns.filter((function(t){return"left"===t.fixed}))},rightColumns:function(){return this.columns.filter((function(t){return"right"===t.fixed}))},overHeight:function(){return this.tableData.length*this.cellHeight+"px"},sumCustomWidth:function(){return this.columns.reduce((function(t,e){return t+(e.width||0)}),0)},num:function(){return(this.columns.filter((function(t){return void 0===t.width}))||[]).length}},created:function(){this.debounceWindowResize=w(this.handleWindowResize,16),this.scrollEvent=w(this.handleScroll,16)},mounted:function(){var t=this;this.visibleData=this.tableData.slice(0,this.visibleCount+this.bufferNum)||[],this.setSize(),this.$nextTick((function(){t.isAnyFixed=t.leftColumns.length||t.rightColumns.length,t.isAnyFixed?(t.handleWindowResize(),t.resizeEvent=window.addEventListener("resize",t.debounceWindowResize)):t.resizeEvent=window.addEventListener("resize",w(t.setSize,16))}))},updated:function(){var t=this;this.$nextTick((function(){t.isAnyFixed?(t.handleWindowResize(),t.resizeEvent||(t.resizeEvent=window.addEventListener("resize",t.debounceWindowResize))):(t.setSize(),t.resizeEvent=window.addEventListener("resize",w(t.setSize,16)))}))},methods:{handleWindowResize:function(){this.setSize(),this.updateHeadSize(),this.updateRowSize()},setSize:function(){var t=this,e=document.getElementById("table"),i=e.getBoundingClientRect().width,l=this.cellMinWidth*this.num+this.sumCustomWidth;i>l?(this.innerTableWidth=i,this.$nextTick((function(){t.cellMinWidth=Math.ceil((i-t.sumCustomWidth)/t.num)}))):this.$nextTick((function(){t.innerTableWidth=t.cellMinWidth*t.num+t.sumCustomWidth}))},updateHeadSize:function(){var t="middle__table-head",e="left__table-head",i="right__table-head",l=document.getElementsByClassName(t)[0],n=document.getElementsByClassName(e)[0],a=document.getElementsByClassName(i)[0],r=l.getBoundingClientRect().height;n.style.height=r+"px",a.style.height=r+"px"},updateRowSize:function(){var t=document.querySelectorAll(".middle__table-row"),e=document.querySelectorAll(".left__table-row"),i=document.querySelectorAll(".right__table-row"),l=new Map;Array.prototype.forEach.call(t,(function(t){var e=t.dataset.rowKey,i=t.clientHeight;l.set(e,i)}));var n=0;l.forEach((function(t,l){e[n].setAttribute("data-row-key",l),e[n].style.height=t+"px",i[n].setAttribute("data-row-key",l),i[n].style.height=t+"px",n++}))},handleScroll:function(){var t=this,e=this.$refs["table-body-wrapper"].scrollTop;window.requestAnimationFrame((function(){t.$refs["table-body-wrapper__right"].scrollTop=e,t.$refs["table-body-wrapper__left"].scrollTop=e})),setTimeout((function(){var i=Math.floor(e/t.cellHeight),l=t.getStart(i),n=Math.min(i+t.visibleCount+t.bufferNum,t.tableData.length);t.offset=t.getOffset(e,i),t.visibleData=t.tableData.slice(l,n)}),0)},getStart:function(t){return t<this.bufferNum?0:t-this.bufferNum},getOffset:function(t,e){return e<this.bufferNum?0:t-t%this.cellHeight-this.bufferNum*this.cellHeight}}},C=_,k=(0,d.Z)(C,r,s,!1,null,null,null),z=k.exports,E=i(8163),T=[{type:"selection",fixed:"left"},{key:"id",title:"ID"},{key:"creator",title:"创建人"},{key:"createTime",title:"创建时间"},{key:"location",title:"地点"},{key:"comment",title:"评论",width:300},{key:"remark",title:"备注"},{key:"level",title:"评级"},{key:"type",title:"类型"},{key:"title1",title:"title1"},{key:"title2",title:"title2"},{key:"title3",title:"title3"},{key:"title4",title:"title4"},{key:"title5",title:"title5"},{key:"rightFixed",title:"操作",fixed:"right"}],W={id:0,creator:"lily",createTime:"2020/01/10",location:"深圳市福田区",comment:"外卖配送时间被精准到秒、网上打车被精确到分钟、社畜的工作时间被规定在数小时内......在漫长的历史长河中，人类创造了时间的概念，又被时间所规训着。现代社会，这种表征充斥在每个人的日常生活和工作中。某种程度上，时间意味金钱，也象征着秩序。\n2",remark:"暂无备注",level:"A级",type:"人文科学",title1:"title1",title2:"title2",title3:"title3",title4:"title4",title5:"title5",title6:"title6",title7:"title7",title8:"title8",rightFixed:"查看"},S=[],H=0;H<1e5;H++){var A=(0,E.Z)({},W);A.id=H,A.comment=A.comment.slice(0,20)+"...",S.push(A)}var D=S,R={name:"App",components:{TableComponent:z},data:function(){return{columns:T,tableData:D,height:800}},mounted:function(){var t=window.innerHeight;this.height=Math.min(500,t-160)}},$=R,M=(0,d.Z)($,n,a,!1,null,null,null),N=M.exports;l.Z.config.productionTip=!1,new l.Z({render:function(t){return t(N)}}).$mount("#app")}},e={};function i(l){if(e[l])return e[l].exports;var n=e[l]={exports:{}};return t[l](n,n.exports,i),n.exports}i.m=t,i.x=function(){},function(){i.d=function(t,e){for(var l in e)i.o(e,l)&&!i.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0},e=[[729,998]],l=function(){},n=function(n,a){for(var r,s,o=a[0],u=a[1],c=a[2],h=a[3],d=0,f=[];d<o.length;d++)s=o[d],i.o(t,s)&&t[s]&&f.push(t[s][0]),t[s]=0;for(r in u)i.o(u,r)&&(i.m[r]=u[r]);c&&c(i),n&&n(a);while(f.length)f.shift()();return h&&e.push.apply(e,h),l()},a=self["webpackChunkvue_table"]=self["webpackChunkvue_table"]||[];function r(){for(var l,n=0;n<e.length;n++){for(var a=e[n],r=!0,s=1;s<a.length;s++){var o=a[s];0!==t[o]&&(r=!1)}r&&(e.splice(n--,1),l=i(i.s=a[0]))}return 0===e.length&&(i.x(),i.x=function(){}),l}a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a));var s=i.x;i.x=function(){return i.x=s||function(){},(l=r)()}}(),i.x()})();
//# sourceMappingURL=app.15ab4346.js.map